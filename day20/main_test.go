package main

import (
	"fmt"
	"testing"
)

func Test_grid_swapGrid_2(t *testing.T) {
	input := []string{"..#.#..#####.#.#.#.###.##.....###.##.#..###.####..#####..#....#..#..##..##" +
		"#..######.###...####..#..#####..##..#.#####...##.#.#..#.##..#.#......#.###" +
		".######.###.####...#.##.##..#..#..#####.....#.#....###..#.##......#.....#." +
		".#..#..##..#...##.######.####.####.#.#...#.......#..#.#.#...####.##.#....." +
		".#..#...##.#.##..#...##.#.##..###.#......#.#.......#.#.#.####.###.##...#.." +
		"...####.#..#..#.##.#....##..#.####....##...##..#...#......#.#.......#....." +
		"..##..####..#...#.#.#...##..#.#..###..#####........#..####......#..#",
		"",
		"#..#.",
		"#....",
		"##..#",
		"..#..",
		"..###",
	}

	g := processInput(input)
	fmt.Println(g)
	g1 := g.swapGrid(false)
	fmt.Println(g1)
	g2 := g1.swapGrid(false)
	fmt.Println(g2)

	if len(g2.cells) != 35 {
		t.Errorf("swapGrid 2x = %v, want %v", len(g2.cells), 35)
	}
}

func Test_grid_swapGrid_50(t *testing.T) {
	input := []string{"..#.#..#####.#.#.#.###.##.....###.##.#..###.####..#####..#....#..#..##..##" +
		"#..######.###...####..#..#####..##..#.#####...##.#.#..#.##..#.#......#.###" +
		".######.###.####...#.##.##..#..#..#####.....#.#....###..#.##......#.....#." +
		".#..#..##..#...##.######.####.####.#.#...#.......#..#.#.#...####.##.#....." +
		".#..#...##.#.##..#...##.#.##..###.#......#.#.......#.#.#.####.###.##...#.." +
		"...####.#..#..#.##.#....##..#.####....##...##..#...#......#.#.......#....." +
		"..##..####..#...#.#.#...##..#.#..###..#####........#..####......#..#",
		"",
		"#..#.",
		"#....",
		"##..#",
		"..#..",
		"..###",
	}

	g := processInput(input)
	fmt.Println(g)

	for i := 0; i < 25; i++ {
		g1 := g.swapGrid(false)
		fmt.Println(g1)
		g2 := g1.swapGrid(false)
		fmt.Println(g2)
		g = g2
	}

	if len(g.cells) != 3351 {
		t.Errorf("swapGrid 2x = %v, want %v", len(g.cells), 3351)
	}
}
